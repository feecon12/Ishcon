{"ast":null,"code":"import{Layout}from\"../components/Layout\";import{useState}from\"react\";import axios from'axios';import Button from\"../components/Button\";// import { motion } from \"framer-motion\"\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Login=()=>{//modal open close starts\n// const [isOpen, setIsOpen] = useState(false);\n// const handleClick = () => { \n//   setIsOpen(!isOpen);\n// }\n//modal open close ends\nconst[formData,setFormData]=useState({username:\"\",email:\"\",password:\"\"});const[isValidated,setIsValidated]=useState(false);const[error,setError]=useState(null);const handleChange=e=>{const{name,value}=e.target;setFormData({...formData,[name]:value});};const clearForm=()=>{setFormData({username:\"\",email:\"\",password:\"\"});};const handleSubmit=async e=>{e.preventDefault();try{const response=await axios.post('http://localhost:3000/api/users',formData);if(response.status===201){setIsValidated(true);//set the state to true\nclearForm();}console.log(response.data);// Handle success (e.g., display a success message, reset the form, etc.)\n}catch(error){var _error$response,_error$response2,_error$response2$data;console.error(\"Error sending message:\",((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data)||error.message);setError(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.message)||\"Error submitting form\");setIsValidated(false);}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Layout,{children:/*#__PURE__*/_jsx(\"section\",{className:\"min-h-screen flex items-center justify-center bg:white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white p-8 rounded-lg shadow-lg w-full max-w-md\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold mb-6 text-center\",children:\"Login\"}),/*#__PURE__*/_jsx(\"form\",{onSubmit:handleSubmit,children:/*#__PURE__*/_jsxs(\"fieldset\",{className:\"py-2 flex flex-col gap-4\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"username\",className:\"block text-sm font-medium text-dark\",children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",id:\"username\",onChange:handleChange,value:formData.username,className:\"w-full p-2 border border-light rounded mt-1\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",className:\"block text-sm font-medium text-dark\",children:\"Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",name:\"email\",id:\"email\",onChange:handleChange,value:formData.email,className:\"w-full p-2 border border-light rounded mt-1\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",className:\"block text-sm font-medium text-dark\",children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"password\",id:\"password\",onChange:handleChange,value:formData.password,className:\"w-full p-2 border border-light rounded mt-1\"}),/*#__PURE__*/_jsx(Button,{text:\"Submit\",className:\"bg-dark px-2 py-2 rounded-lg text-light w-full hover:border-dark mt-4\",type:\"submit\"})]})}),isValidated&&/*#__PURE__*/_jsx(\"div\",{className:\"text-green-500 mt-4\",children:/*#__PURE__*/_jsx(\"p\",{children:\"Authenticated.\"})}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"text-red-500 mt-4\",children:/*#__PURE__*/_jsx(\"p\",{children:error})})]})})})});};export default Login;","map":{"version":3,"names":["Layout","useState","axios","Button","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","formData","setFormData","username","email","password","isValidated","setIsValidated","error","setError","handleChange","e","name","value","target","clearForm","handleSubmit","preventDefault","response","post","status","console","log","data","_error$response","_error$response2","_error$response2$data","message","children","className","onSubmit","htmlFor","type","id","onChange","text"],"sources":["C:/Users/feeco/Desktop/All Apps/vanilla-react-js-apps/ishcon-react/frontend/src/components/Login.jsx"],"sourcesContent":["import { Layout } from \"../components/Layout\"\r\nimport { useState } from \"react\"\r\nimport axios from 'axios'\r\nimport Button from \"../components/Button\"\r\n// import { motion } from \"framer-motion\"\r\n\r\nconst Login = () => {\r\n  //modal open close starts\r\n  // const [isOpen, setIsOpen] = useState(false);\r\n  // const handleClick = () => { \r\n  //   setIsOpen(!isOpen);\r\n  // }\r\n\r\n  //modal open close ends\r\n\r\n  const [formData, setFormData] = useState({\r\n    username: \"\",\r\n    email: \"\",\r\n    password: \"\"\r\n  });\r\n  const [isValidated, setIsValidated] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData({\r\n      ...formData,\r\n      [name]: value\r\n    });\r\n  };\r\n  const clearForm = () => {\r\n    setFormData({\r\n      username: \"\",\r\n      email: \"\",\r\n      password: \"\"\r\n    });\r\n  }\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await axios.post('http://localhost:3000/api/users', formData);\r\n      if (response.status === 201) {\r\n        setIsValidated(true); //set the state to true\r\n        clearForm();\r\n      }\r\n      console.log(response.data);\r\n      // Handle success (e.g., display a success message, reset the form, etc.)\r\n    } catch (error) {\r\n      console.error(\"Error sending message:\", error.response?.data || error.message);\r\n      setError(error.response?.data?.message || \"Error submitting form\");\r\n      setIsValidated(false);\r\n    }\r\n  };\r\n  return (\r\n    \r\n    <>\r\n      \r\n        <Layout>\r\n          \r\n          <section\r\n           \r\n            \r\n            className=\"min-h-screen flex items-center justify-center bg:white\">\r\n          <div className=\"bg-white p-8 rounded-lg shadow-lg w-full max-w-md\">\r\n            <h1 className=\"text-2xl font-bold mb-6 text-center\">Login</h1>\r\n            <form onSubmit={handleSubmit}>\r\n              <fieldset className=\"py-2 flex flex-col gap-4\">\r\n                <label htmlFor=\"username\" className=\"block text-sm font-medium text-dark\">\r\n                  Username\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  name=\"username\"\r\n                  id=\"username\"\r\n                  onChange={handleChange}\r\n                  value={formData.username}\r\n                  className=\"w-full p-2 border border-light rounded mt-1\"\r\n                />\r\n                <label htmlFor=\"email\" className=\"block text-sm font-medium text-dark\">\r\n                  Email\r\n                </label>\r\n                <input\r\n                  type=\"email\"\r\n                  name=\"email\"\r\n                  id=\"email\"\r\n                  onChange={handleChange}\r\n                  value={formData.email}\r\n                  className=\"w-full p-2 border border-light rounded mt-1\"\r\n                />\r\n                <label htmlFor=\"password\" className=\"block text-sm font-medium text-dark\">\r\n                  Password\r\n                </label>\r\n                <input\r\n                  type=\"password\"\r\n                  name=\"password\"\r\n                  id=\"password\"\r\n                  onChange={handleChange}\r\n                  value={formData.password}\r\n                  className=\"w-full p-2 border border-light rounded mt-1\"\r\n                />\r\n                <Button\r\n                  text={\"Submit\"}\r\n                  className=\"bg-dark px-2 py-2 rounded-lg text-light w-full hover:border-dark mt-4\"\r\n                  type=\"submit\"\r\n                />\r\n              </fieldset>\r\n            </form>\r\n            {isValidated && (\r\n              <div className=\"text-green-500 mt-4\">\r\n                <p>Authenticated.</p>\r\n              </div>\r\n            )}\r\n            {error && (\r\n              <div className=\"text-red-500 mt-4\">\r\n                <p>{error}</p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </section>\r\n        </Layout >\r\n    </>\r\n        \r\n  )\r\n}\r\n\r\nexport default Login;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}