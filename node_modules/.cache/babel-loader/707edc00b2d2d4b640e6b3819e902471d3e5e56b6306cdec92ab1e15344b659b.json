{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nconst useThemeSwitcher = () => {\n  _s();\n  const preferDarkQuery = \"(prefers-color-scheme: dark)\";\n  const [mode, setMode] = useState(() => {\n    // Check for user preference in local storage or default to media query\n    const userPref = window.localStorage.getItem(\"theme\");\n    if (userPref) {\n      return userPref;\n    }\n    const mediaQuery = window.matchMedia(preferDarkQuery);\n    return mediaQuery.matches ? 'dark' : 'light';\n  });\n  useEffect(() => {\n    const mediaQuery = window.matchMedia(preferDarkQuery);\n    const handleChange = () => {\n      if (mode === 'dark') {\n        document.documentElement.classList.add('dark');\n      } else {\n        document.documentElement.classList.remove('dark');\n      }\n    };\n\n    // Apply initial theme\n    handleChange();\n\n    // Listen for changes in the media query\n    mediaQuery.addEventListener(\"change\", handleChange);\n    return () => {\n      mediaQuery.removeEventListener(\"change\", handleChange);\n    };\n  }, [mode]);\n  useEffect(() => {\n    if (mode === 'dark') {\n      window.localStorage.setItem('theme', 'dark');\n      document.documentElement.classList.add('dark');\n    } else {\n      window.localStorage.setItem('theme', 'light');\n      document.documentElement.classList.remove('dark');\n    }\n  }, [mode]);\n  return [mode, setMode];\n};\n_s(useThemeSwitcher, \"BVhcRKlApIqGkOG968odFT5Y1x0=\");\nexport default useThemeSwitcher;","map":{"version":3,"names":["useState","useEffect","useThemeSwitcher","_s","preferDarkQuery","mode","setMode","userPref","window","localStorage","getItem","mediaQuery","matchMedia","matches","handleChange","document","documentElement","classList","add","remove","addEventListener","removeEventListener","setItem"],"sources":["C:/Users/feeco/Desktop/AllMernApps/ishcon-react/src/components/hooks/useThemeSwitcher.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nconst useThemeSwitcher = () => {\r\n    const preferDarkQuery = \"(prefers-color-scheme: dark)\";\r\n    const [mode, setMode] = useState(() => {\r\n        // Check for user preference in local storage or default to media query\r\n        const userPref = window.localStorage.getItem(\"theme\");\r\n        if (userPref) {\r\n            return userPref;\r\n        }\r\n        const mediaQuery = window.matchMedia(preferDarkQuery);\r\n        return mediaQuery.matches ? 'dark' : 'light';\r\n    });\r\n\r\n    useEffect(() => {\r\n        const mediaQuery = window.matchMedia(preferDarkQuery);\r\n\r\n        const handleChange = () => {\r\n            if (mode === 'dark') {\r\n                document.documentElement.classList.add('dark');\r\n            } else {\r\n                document.documentElement.classList.remove('dark');\r\n            }\r\n        };\r\n\r\n        // Apply initial theme\r\n        handleChange();\r\n\r\n        // Listen for changes in the media query\r\n        mediaQuery.addEventListener(\"change\", handleChange);\r\n\r\n        return () => {\r\n            mediaQuery.removeEventListener(\"change\", handleChange);\r\n        };\r\n    }, [mode]);\r\n\r\n    useEffect(() => {\r\n        if (mode === 'dark') {\r\n            window.localStorage.setItem('theme', 'dark');\r\n            document.documentElement.classList.add('dark');\r\n        } else {\r\n            window.localStorage.setItem('theme', 'light');\r\n            document.documentElement.classList.remove('dark');\r\n        }\r\n    }, [mode]);\r\n\r\n    return [mode, setMode];\r\n};\r\n\r\nexport default useThemeSwitcher;\r\n"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAE3C,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAMC,eAAe,GAAG,8BAA8B;EACtD,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGN,QAAQ,CAAC,MAAM;IACnC;IACA,MAAMO,QAAQ,GAAGC,MAAM,CAACC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;IACrD,IAAIH,QAAQ,EAAE;MACV,OAAOA,QAAQ;IACnB;IACA,MAAMI,UAAU,GAAGH,MAAM,CAACI,UAAU,CAACR,eAAe,CAAC;IACrD,OAAOO,UAAU,CAACE,OAAO,GAAG,MAAM,GAAG,OAAO;EAChD,CAAC,CAAC;EAEFZ,SAAS,CAAC,MAAM;IACZ,MAAMU,UAAU,GAAGH,MAAM,CAACI,UAAU,CAACR,eAAe,CAAC;IAErD,MAAMU,YAAY,GAAGA,CAAA,KAAM;MACvB,IAAIT,IAAI,KAAK,MAAM,EAAE;QACjBU,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;MAClD,CAAC,MAAM;QACHH,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC;MACrD;IACJ,CAAC;;IAED;IACAL,YAAY,CAAC,CAAC;;IAEd;IACAH,UAAU,CAACS,gBAAgB,CAAC,QAAQ,EAAEN,YAAY,CAAC;IAEnD,OAAO,MAAM;MACTH,UAAU,CAACU,mBAAmB,CAAC,QAAQ,EAAEP,YAAY,CAAC;IAC1D,CAAC;EACL,CAAC,EAAE,CAACT,IAAI,CAAC,CAAC;EAEVJ,SAAS,CAAC,MAAM;IACZ,IAAII,IAAI,KAAK,MAAM,EAAE;MACjBG,MAAM,CAACC,YAAY,CAACa,OAAO,CAAC,OAAO,EAAE,MAAM,CAAC;MAC5CP,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACC,GAAG,CAAC,MAAM,CAAC;IAClD,CAAC,MAAM;MACHV,MAAM,CAACC,YAAY,CAACa,OAAO,CAAC,OAAO,EAAE,OAAO,CAAC;MAC7CP,QAAQ,CAACC,eAAe,CAACC,SAAS,CAACE,MAAM,CAAC,MAAM,CAAC;IACrD;EACJ,CAAC,EAAE,CAACd,IAAI,CAAC,CAAC;EAEV,OAAO,CAACA,IAAI,EAAEC,OAAO,CAAC;AAC1B,CAAC;AAACH,EAAA,CA7CID,gBAAgB;AA+CtB,eAAeA,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}